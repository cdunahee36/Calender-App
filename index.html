<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
      <ul>
        <li class="row">
          <article class="hour" id="9"></article>
          <input class="textarea" id="first" id="save-server"></input>
          <button class="saveBtn" id="icon"></button>
        </li>
        <li class="row">
          <article class="hour" id="10"></article>
          <input class="textarea" id="second" id="save-server"></input>
          <button class="saveBtn" id="icon1"></button>
        </li>
        <li class="row">
          <article class="hour" id="11"></article>
          <input class="textarea" id="third" id="save-server"></input>
          <button class="saveBtn" id="icon2"></button>
        </li>
        <li class="row">
          <article class="hour" id="12"></article>
          <input class="textarea" id="fourth" id="save-server"></input>
          <button class="saveBtn" id="icon3"></button>
        </li>
        <li class="row">
          <article class="hour" id="1"></article>
          <input class="textarea" id="fifth" id="save-server"></input>
          <button class="saveBtn" id="icon4"></button>
        </li>
        <li class="row">
          <article class="hour" id="2"></article>
          <input class="textarea" id="sixth" id="save-server"></input>
          <button class="saveBtn" id="icon5"></button>
        </li>
        <li class="row">
          <article class="hour" id="3"></article>
          <input class="textarea" id="seventh" id="save-server"></input>
          <button class="saveBtn" id="icon6"></button>
        </li>
        <li class="row">
          <article class="hour" id="4"></article>
          <input class="textarea" id="eighth" id="save-server"></input>
          <button class="saveBtn" id="icon7"></button>
        </li>
        <li class="row">
          <article class="hour" id="5"></article>
          <input class="textarea" id="ninth" id="save-server"></input>
          <button class="saveBtn" id="icon8"></button>
        </li>
      </ul>
     </div>
    
    <script type="text/javascript">
      //Create a header with the current date.
      //Create time blocks that have the business hours displayed in them.
      //Create a function that makes the time blocks change color if in the past present or future.
      //Create a input field for each time block.
      //Create a save button on each time block that saves the user input to localStorage
      
      //Sets the current day, year, and time
      
      var firstDay = $('#currentDay');
      var dayYear = moment().format('LLL');
      var date = new Date(dayYear);
      var currentHour = date.getHours();
      firstDay.text(dayYear);

      //appends the hour text to the correct box

      var hour9 = $('#9');
      var hour10 = $('#10');
      var hour11 = $('#11');
      var hour12 = $('#12');
      var hour1 = $('#1');
      var hour2 = $('#2');
      var hour3 = $('#3');
      var hour4 = $('#4');
      var hour5 = $('#5');
      
      //Sets the text for the time boxes

      hour9.text("9AM");
      hour10.text("10AM");
      hour11.text("11AM");
      hour12.text("12PM");
      hour1.text("1PM");
      hour2.text("2PM");
      hour3.text("3PM");
      hour4.text("4PM");
      hour5.text("5PM");

      //Displays the save on the save buttons

      $('#icon').text("SAVE");
      $('#icon1').text("SAVE");
      $('#icon2').text("SAVE");
      $('#icon3').text("SAVE");
      $('#icon4').text("SAVE");
      $('#icon5').text("SAVE");
      $('#icon6').text("SAVE");
      $('#icon7').text("SAVE");
      $('#icon8').text("SAVE");

        //Sets the integer so the current hour knows what its compared to

      var firstHour = 9;
      var secondHour = 10;
      var thirdHour = 11;
      var fourthHour = 12;
      var fifthHour = 13;
      var sixthHour = 14;
      var seventhHour = 15;
      var eighthHour = 16;
      var ninthHour = 17;
      
        //This for loop iterates through the indexes linked to the text boxes

        for (var i = 9; i < 18; i++) {
          setupRow(i)
        }
        
        //This function tells the row how to display

        function setupRow(rowIndex) {
          //Returns correct element by its Id within the row
          function getElemtId() {
            switch (rowIndex) {
              case firstHour: return '#first'
              case secondHour: return '#second'
              case thirdHour: return '#third'
              case fourthHour: return '#fourth'
              case fifthHour: return '#fifth'
              case sixthHour: return '#sixth'
              case seventhHour: return '#seventh'
              case eighthHour: return '#eighth'
              case ninthHour: return "#ninth"
              default: return "#first"
            }
        }

          //Conditional that shows whether the box is current, past, or present

          if (currentHour == rowIndex) {
            $(getElemtId()).addClass("present")
          }

          if (currentHour > rowIndex) {
           $(getElemtId()).addClass("past")
          }

          if (currentHour < rowIndex) {
           $(getElemtId()).addClass("future")
          }
        }

    </script>
    
  </body>
</html>
